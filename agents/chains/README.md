# –¶–µ–ø–æ—á–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–æ–¥
–ù–∞–±–æ—Ä –Ω–æ–¥ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. –ù–µ–∫–æ—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (—á–µ—Ä–µ–∑ goto) —É–∫–∞–∑–∞–Ω–∞ –≤ [—É—Å–ª–æ–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö](../edges/README.md)

## üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
chains/                      
‚îú‚îÄ‚îÄ [`base.py`](base.py)                 -- –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ü–µ–ø–æ—á–µ–∫ (–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å)\
‚îú‚îÄ‚îÄ [`faq_chain.py`](faq_chain.py)            -- –¶–µ–ø–æ—á–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —á–∞—Å—Ç–æ–∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤\
‚îú‚îÄ‚îÄ [`full_chain.py`](full_chain.py)           -- –¶–µ–ø–æ—á–∫–∞ –∏–∑ –ø–æ–¥–≥—Ä–∞—Ñ–∞ –º–∞–Ω–µ—Ä—ã, FAQ, –≤–µ–±- –∏ rag-–ø–æ–∏—Å–∫–∞\
‚îú‚îÄ‚îÄ [`manner_chain.py`](manner_chain.py)         -- –¶–µ–ø–æ—á–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–∞–Ω–µ—Ä—ã –æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\
‚îú‚îÄ‚îÄ [`only_memory_chain.py`](only_memory_chain.py)    -- –¶–µ–ø–æ—á–∫–∞ –∏–∑ –ø–æ–¥–≥—Ä–∞—Ñ–∞ –º–∞–Ω–µ—Ä—ã –∏ FAQ\
‚îú‚îÄ‚îÄ [`only_search_chain.py`](only_search_chain.py)    -- –¶–µ–ø–æ—á–∫–∞ –∏–∑ –ø–æ–¥–≥—Ä–∞—Ñ–∞ –≤–µ–±- –∏ rag-–ø–æ–∏—Å–∫–∞\
‚îî‚îÄ‚îÄ [`rag_chain.py`](rag_chain.py)            -- –¶–µ–ø–æ—á–∫–∞ –∏–∑ –ø–æ–¥–≥—Ä–∞—Ñ–∞ rag-–ø–æ–∏—Å–∫–∞

## üß© –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [`base.py`](base.py)                 -- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å `BaseChain`
- [`full_chain.py`](full_chain.py)           -- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å `FullExecutionChain`

## üé® –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–π —Ü–µ–ø–æ—á–∫–∏
```python
from typing import List

from agents import nodes
from .base import BaseChain


class NewChain(BaseChain):
    """–ù–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–æ–¥–∞–º–∏"""
    
    def __init__(self):
        super().__init__()
        
        # –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –Ω–æ–¥
        node_list: List[nodes.BaseNode] = [
            nodes.SomeNode1,
            nodes.SomeNode2,
            nodes.SomeNode3
        ]
        
        # –°–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–æ–¥–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ (–æ—Ç–∫—É–¥–∞, –∫—É–¥–∞)
        edge_list = [
            (nodes.SomeNode1, nodes.SomeNode2),
            (nodes.SomeNode2, nodes.SomeNode3)
        ]

        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–¥
        for node in node_list:
            self.add_node(name=node().get_name(), node=node().execute)
        
        # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π
        for (source_edge, target_edge) in edge_list:
            self.add_edge(source_edge().get_name(), target_edge().get_name())
     
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
        self.set_entry_point(nodes.SomeNode1().get_name())
        self.set_exit_point(nodes.SomeNode3().get_name())
```

## üìã –ß–µ–∫–ª–∏—Å—Ç—ã —Ü–µ–ø–æ—á–µ–∫

**–°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å
  - [ ] –£–∫–∞–∑–∞—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–æ–¥—ã
  - [ ] –£–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–≤—è–∑–∏
  - [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –≤ [`__init__.py`](./__init__.py)
  - [ ] –î–æ–±–∞–≤–∏—Ç—å `from .new_chain.py import NewChain `
  - [ ] –î–æ–±–∞–≤–∏—Ç—å `"NewChain"` –≤ —Å–ø–∏—Å–æ–∫ `__all__`

**–£–¥–∞–ª–µ–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏:**
- [ ] –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª —Ü–µ–ø–æ—á–∫–∏ `new_chain.py`
- [ ] –£–¥–∞–ª–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –∏–∑ [`__init__.py`](./__init__.py)
  - [ ] –°—Ç–µ—Ä–µ—Ç—å `from .new_chain.py import NewChain `
  - [ ] –°—Ç–µ—Ä–µ—Ç—å `"NewChain"` –∏–∑ —Å–ø–∏—Å–∫–∞ `__all__`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–µ–ø–æ—á–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ [`base_agent.py`](../base_agent.py)

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

```bash
AttributeError: module 'agents.nodes' has no attribute 'SomeOtherNode'
```
_–ü—Ä–∏—á–∏–Ω–∞:_ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–æ–¥—ã `SomeOtherNode`

_–†–µ—à–µ–Ω–∏–µ:_ 
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–æ–¥—ã `SomeOtherNode` –≤ [`nodes/__init__.py`](../nodes/__init__.py)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–¥—ã `SomeOtherNode` –≤ `NodeNames` –≤ [`state_management/commands.py`](../state_management/commands.py)
---
```bash
ValueError: Node 'SomeNode' not registered
```
_–ü—Ä–∏—á–∏–Ω–∞:_ –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–¥—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –≤–Ω–µ—Å–µ–Ω–∞ –≤ `node_list` —Ü–µ–ø–æ—á–∫–∏

_–†–µ—à–µ–Ω–∏–µ:_ 
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–æ–¥—ã `SomeNode` –≤ `node_list`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `BaseChain.add_node()`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `BaseChain.set_entry_point()`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `BaseChain.set_exit_point()`
---
```bash
ValueError: Entry point must be defined
```
_–ü—Ä–∏—á–∏–Ω–∞:_ –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –≤ –≥—Ä–∞—Ñ

_–†–µ—à–µ–Ω–∏–µ:_ 
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `self.set_entry_point(nodes.QuestionDecompositionNode().get_name())` –≤ –∫–ª–∞—Å—Å–µ —Ü–µ–ø–æ—á–∫–∏ `NewChain`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `BaseNode.set_entry_point()`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `BaseNode._validate()`
---
```bash
ValueError: Exit point must be defined
```
_–ü—Ä–∏—á–∏–Ω–∞:_ –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤—ã—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –∏–∑ –≥—Ä–∞—Ñ–∞

_–†–µ—à–µ–Ω–∏–µ:_ 
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `self.set_exit_point(nodes.SomeNode().get_name())` –≤ –∫–ª–∞—Å—Å–µ —Ü–µ–ø–æ—á–∫–∏ `NewChain`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `BaseNode.set_exit_point()`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `BaseNode._validate()`